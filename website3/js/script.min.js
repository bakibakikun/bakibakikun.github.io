document.addEventListener("DOMContentLoaded", () => {
        if (window.innerWidth > 991) {
            new MicroSlider(".micro-slider", {
                perspectiveFactor: 2.85,
                zoomScale: -120,
                transitionDuration: 150,
                indicators: !0
            });
        } else {
            new MicroSlider(".micro-slider", {
                perspectiveFactor: 1.7,
                zoomScale: -100,
                transitionDuration: 150,
                indicators: !1
            });
        }
    }),
    $(function() {
        function e(e) {
            e.find(".modal__inner").css({
                    transform: "scale(0.5)",
                    opacity: "0"
                }),
                setTimeout(function() {
                    $("body").removeClass("lock"), $(e).removeClass("active");
                }, 200);
        }
        $(window).on("scroll", function() {
                AOS.init({
                    disable: function() {
                        return window.innerWidth < 800;
                    },
                    offset: 100,
                    duration: 700,
                    once: !0,
                });
            }),
            $(".header__burger").on("click", function(e) {
                e.preventDefault(), $(".header__burger, .menu").toggleClass("active"), $("body").toggleClass("lock");
            }),
            $("[data-scroll]").on("click", function(e) {
                e.preventDefault();
                let t = $(this).data("scroll"),
                    a = $(t).offset().top;
                $(".header__burger").removeClass("active"), $(".menu").removeClass("active"), $("body").removeClass("lock"), $("body,html").animate({
                    scrollTop: a - $(".header").innerHeight() - 20
                }, 500);
            }),
            $(window).on("scroll", function(e) {
                e.preventDefault();
                let t = $(this).scrollTop();
                $("[data-scrollspy]").each(function() {
                        let e = $(this).data("scrollspy"),
                            a = $(this).offset().top;
                        (a -= 0.3 * $(window).height()), t >= a ? ($("[data-scroll]").removeClass("active"), $("[data-scroll='" + e + "' ]").addClass("active")) : 0 == t && $("[data-scroll]").removeClass("active");
                    }),
                    0 !== t ? $(".scroll-up").fadeIn() : $(".scroll-up").fadeOut();
            }),
            $("[data-filter]").on("click", function(e) {
                e.preventDefault(), $(this).addClass("active").siblings().removeClass("active");
                let t = $(this).data("filter");
                "all" == t
                    ?
                    $("[data-cat]").removeClass("hide") :
                    $("[data-cat]").each(function() {
                        $(this).data("cat") != t ? $(this).addClass("hide") : $(this).removeClass("hide");
                    });
            }),
            $(".block__label").on("click", function() {
                $(".block").hasClass("single") && ($(".block__label").not($(this)).removeClass("active"), $(".block__text").not($(this).next()).slideUp(300)), $(this).toggleClass("active").next().slideToggle(300);
            }),
            $("[data-modal]").on("click", function(e) {
                e.preventDefault();
                let t = $(this).data("modal");
                $("body").addClass("lock"),
                    $(t).addClass("active"),
                    setTimeout(function() {
                        $(t).find(".modal__inner").css({
                            transform: "scale(1)",
                            opacity: "1"
                        });
                    });
            }),
            $("[data-modal-close]").on("click", function(t) {
                t.preventDefault(), e($(this).parents(".modal"));
            }),
            $(".modal").on("click", function() {
                e($(this));
            }),
            $(".modal__inner").on("click", function(e) {
                e.stopPropagation();
            }),
            $(".form").submit(function() {
                var e = $(this);
                return (
                    $.ajax({
                        type: "POST",
                        url: "mail.php",
                        data: e.serialize()
                    }).done(function() {
                        alert("Thank you!"),
                            setTimeout(function() {
                                e.trigger("reset");
                            }, 1e3);
                    }), !1
                );
            });
    });